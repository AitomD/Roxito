<div class="instr mx-auto">
    <h3 class="text-center text-light">Como fa√ßo meu pedido?</h3>
    <p class="lead text-center text-light fs-4">Para fazer seu pedido, clique sobre o nome do lanche em seguida digite a quantidade. Role ao fim da pagina copie o texto e clique no bot√£o do whatssap, cole a mensagem e fa√ßa o pedido</p>
</div>

<div class="cardapios container mt-3"> <h2 class="text-center">Lanches Especiais</h2>
    <div class="table-responsive">
        <table class="table table-bordered align-middle tabela-stl">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Ingredientes</th>
                    <th>Pre√ßo</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>Rodeio üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, cheddar, bacon, anel de cebola, tomate, alface e barbecue.</td>
                    <td>R$35,00</td>
                </tr>
                <tr>
                    <th>Misturinha üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, calabresa, frango e bacon em fatias.</td>
                    <td>R$35,00</td>
                </tr>
                <tr>
                    <th>Romeu üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, 3 fatias de queijo, goiabada, bacon e r√∫cula.</td>
                    <td>R$29,00</td>
                </tr>
                <tr>
                    <th>R√∫cula üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, r√∫cula, molho de mostarda, bacon e mel.</td>
                    <td>R$35,00</td>
                </tr>
                <tr>
                    <th>R√∫cula Cream Cheese üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, r√∫cula, molho de mostarda, bacon, mel e cream cheese.</td>
                    <td>R$35,00</td>
                </tr>
                <tr>
                    <th>Costela Cream Cheese üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, alface, tomate, cebola caramelizada, bacon e cream cheese.</td>
                    <td>R$35,00</td>
                </tr>
                <tr>
                    <th>Costela Barbecue üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, alface, tomate, cebola caramelizada e bacon em fatias.</td>
                    <td>R$32,00</td>
                </tr>
                <tr>
                    <th>Caipira üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, alface, tomate, milho, batata palha, frango em cubos e bacon em fatias.</td>
                    <td>R$35,00</td>
                </tr>
                <tr>
                    <th>Tropical üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, abacaxi caramelizado, alface, tomate e bacon em fatias.</td>
                    <td>R$35,00</td>
                </tr>
                <tr>
                    <th>Big Costa üçî</th>
                    <td>P√£o, 2 hamb√∫rgueres de 160g, queijo cheddar, 2 ovos e bacon em fatias.</td>
                    <td>R$37,00</td>
                </tr>
                <tr>
                    <th>Burguer Costa üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo cheddar, ovo e bacon em fatias.</td>
                    <td>R$28,00</td>
                </tr>
                <tr>
                    <th>Cheese Burguer üçî</th>
                    <td>P√£o, hamb√∫rguer, queijo, cebola roxa, picles, alface, tomate, bacon e cream cheese.</td>
                    <td>R$33,00</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="cardapios container my-4">
    <h2 class="text-center">Lanches Tradicionais</h2>
    <div class="table-responsive">
        <table class="table table-hover table-bordered align-middle tabela-stl">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Ingredientes</th>
                    <th>Pre√ßo</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>X-Salada üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, alface, tomate, milho e batata palha.</td>
                    <td>R$22,00</td>
                </tr>
                <tr>
                    <th>X-Bacon üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, alface, tomate, milho, batata palha e bacon em fatias.</td>
                    <td>R$28,00</td>
                </tr>
                <tr>
                    <th>X-Calabresa üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, alface, tomate, milho, batata palha e calabresa.</td>
                    <td>R$28,00</td>
                </tr>
                <tr>
                    <th>X-Frango üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, alface, tomate, milho, batata palha e frango em cubos.</td>
                    <td>R$28,00</td>
                </tr>
                <tr>
                    <th>X-Tudo üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo, alface, tomate, milho, batata palha, bacon, ovo, salsicha e calabresa.</td>
                    <td>R$48,00</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="cardapios container my-4">
    <h2 class="text-center">Lanches Smash</h2>
    <div class="table-responsive">
        <table class="table table-hover table-bordered align-middle tabela-stl">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Ingredientes</th>
                    <th>Pre√ßo</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>Smash üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, queijo cheddar, bacon em fatias e picles.</td>
                    <td>R$26,00</td>
                </tr>
                <tr>
                    <th>Double Smash üçî</th>
                    <td>P√£o, 2 hamb√∫rgueres de 160g, queijo cheddar, bacon em fatias e picles.</td>
                    <td>R$34,00</td>
                </tr>
                <tr>
                    <th>Triple Smash üçî</th>
                    <td>P√£o, 3 hamb√∫rgueres de 160g, queijo cheddar, bacon em fatias e picles.</td>
                    <td>R$45,00</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="cardapios container my-4">
    <h2 class="text-center">Burguers</h2>
    <div class="table-responsive">
        <table class="table table-hover table-bordered align-middle tabela-stl">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Ingredientes</th>
                    <th>Pre√ßo</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>Burguer Frango üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, cheddar e frango.</td>
                    <td>R$25,00</td>
                </tr>
                <tr>
                    <th>Burguer Dog üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, cheddar e 2 salsichas.</td>
                    <td>R$25,00</td>
                </tr>
                <tr>
                    <th>Burguer Bacon üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, cheddar e bacon em fatias.</td>
                    <td>R$25,00</td>
                </tr>
                <tr>
                    <th>Burguer Calabresa üçî</th>
                    <td>P√£o, hamb√∫rguer de 160g, cheddar e calabresa.</td>
                    <td>R$25,00</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="cardapios container my-4">
    <h2 class="text-center">A√ßais e Cremes</h2>
    <div class="table-responsive">
        <table class="table table-hover table-bordered align-middle tabela-stl">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Ingredientes</th>
                    <th>Pre√ßo</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>A√ßai 300ml Tradicional</th>
                    <td>Leite ninho e leite condensado.</td>
                    <td>R$16,00</td>
                </tr>
                <tr>
                    <th>A√ßai 300ml Puro</th>
                    <td>Somente a√ßa√≠.</td>
                    <td>R$13,00</td>
                </tr>
                <tr>
                    <th>A√ßai 500ml Tradicional</th>
                    <td>Leite ninho e leite condensado.</td>
                    <td>R$18,00</td>
                </tr>
                <tr>
                    <th>A√ßai 500ml Puro</th>
                    <td>Somente a√ßa√≠.</td>
                    <td>R$18,00</td>
                </tr>
                <tr>
                    <th>Ta√ßa de A√ßai</th>
                    <td>400ml de a√ßa√≠, leite ninho, leite condensado, morango, nutella e creme de ninho.</td>
                    <td>R$36,00</td>
                </tr>
                <tr>
                    <th>Tigela de A√ßai</th>
                    <td>750ml de a√ßa√≠, leite ninho, leite condensado e dois adicionais √† sua escolha.</td>
                    <td>R$40,00</td>
                </tr>
                <tr>
                    <th>Creme puro 300ml</th>
                    <td>Cupua√ßu ou maracuj√°.</td>
                    <td>R$13,00</td>
                </tr>
                <tr>
                    <th>Creme puro 500ml</th>
                    <td>Cupua√ßu ou maracuj√°.</td>
                    <td>R$18,00</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="cardapios container my-4">
    <h2 class="text-center">Adicionais</h2>
    <div class="table-responsive">
        <table class="table table-hover table-bordered align-middle tabela-stl">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Pre√ßo</th>
                </tr>
            </thead>
            <tbody>
                <tr><th>Ouro Branco</th><td>R$5,00</td></tr>
                <tr><th>Ovo Maltine</th><td>R$5,00</td></tr>
                <tr><th>Kit Kat</th><td>R$5,00</td></tr>
                <tr><th>Oreo</th><td>R$5,00</td></tr>
                <tr><th>Bis</th><td>R$5,00</td></tr>
                <tr><th>MM's</th><td>R$7,00</td></tr>
                <tr><th>Banana</th><td>R$3,00</td></tr>
                <tr><th>Morango</th><td>R$5,00</td></tr>
                <tr><th>Manga</th><td>R$5,00</td></tr>
                <tr><th>Kiwi</th><td>R$5,00</td></tr>
                <tr><th>Uva</th><td>R$5,00</td></tr>
                <tr><th>Amendoim</th><td>R$3,00</td></tr>
                <tr><th>Granola</th><td>R$3,00</td></tr>
                <tr><th>Pa√ßoca</th><td>R$3,00</td></tr>
                <tr><th>Leite Ninho</th><td>R$2,00</td></tr>
                <tr><th>Leite Condensado</th><td>R$2,00</td></tr>
                <tr><th>Nutella</th><td>R$7,00</td></tr>
                <tr><th>Creme de Pistache</th><td>R$7,00</td></tr>
                <tr><th>Creme de Ninho</th><td>R$7,00</td></tr>
                <tr><th>Creme de Coco Branco</th><td>R$7,00</td>
            </tbody>
        </table>
    </div>
</div>

<div class="container my-5">
    <h4 class="text-center">üìù Seu Pedido:</h4>
    <textarea id="mensagem" class="form-control mb-3" rows="5" placeholder="Clique em um item do card√°pio para adicionar..."></textarea>
    <div class="d-flex gap-2">
        <button id="btn-copiar" class="btn btn-primary flex-grow-1">
            <i class="fas fa-copy"></i> Copiar mensagem
        </button>
        <a id="whatsapp-link" class="btn btn-success flex-grow-1" target="_blank" href="#">
            <i class="fab fa-whatsapp"></i> Enviar para o WhatsApp
        </a>
    </div>
</div>

<!-- Modelo de aba para quantidade do bootstrap -->
<div class="modal fade" id="modalQuantidade" tabindex="-1" aria-labelledby="modalQuantidadeLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalQuantidadeLabel">Selecionar Quantidade</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <p id="modalItemNome" class="fs-5 fw-bold text-center"></p>
        <div class="text-center">
          <input type="number" id="quantidadeInput" class="form-control text-center mx-auto" style="max-width: 120px;" min="1" value="1">
        </div>
      </div>
      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-success" id="confirmarQuantidade">Confirmar</button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
      </div>
    </div>
  </div>
</div>

<script>
    //espera o html carregar
document.addEventListener("DOMContentLoaded", () => {
    //variaveis
    const campoMensagem = document.getElementById("mensagem");
    const whatsappLink = document.getElementById("whatsapp-link");
    const btnCopiar = document.getElementById("btn-copiar");

    const pedidos = {};

    // Elementos do modal
    const modal = new bootstrap.Modal(document.getElementById("modalQuantidade"));
    const modalItemNome = document.getElementById("modalItemNome");
    const quantidadeInput = document.getElementById("quantidadeInput");
    const confirmarQuantidade = document.getElementById("confirmarQuantidade");

    let itemSelecionado = null; // item clicado
    let nomeSelecionado = "";
    let precoSelecionado = "";

        //clique no nome dos itens
    document.querySelectorAll("tbody th").forEach(item => {
        const nomeOriginal = item.innerText.trim();
        item.dataset.nome = nomeOriginal;
        item.classList.add("item-pedido");
        item.style.cursor = "pointer";
        item.title = "Clique para adicionar ao pedido";

            //quando clicar no item
        item.addEventListener("click", () => {
            const nome = item.dataset.nome;
            const preco = item.parentElement.querySelector("td:last-child")?.innerText.trim() || "";

            // Remover se j√° estiver no pedido
            if (pedidos[nome]) {
                const confirmar = confirm(`Deseja remover "${nome}" do pedido?`);
                if (confirmar) {
                    delete pedidos[nome];
                    item.classList.remove("selecionado");
                    const badge = item.querySelector('.badge');
                    if (badge) badge.remove();
                    atualizarMensagem();
                    atualizarWhatsAppLink();
                }
                return;
            }

            // Armazena os dados para uso no modal
            itemSelecionado = item;
            nomeSelecionado = nome;
            precoSelecionado = preco;
            modalItemNome.textContent = nome;
            quantidadeInput.value = 1;
            modal.show();
        });
    });

    // Confirma√ß√£o do modal
    confirmarQuantidade.addEventListener("click", () => {
        const quantidade = parseInt(quantidadeInput.value);
        if (!isNaN(quantidade) && quantidade > 0) {
            const pedidoTexto = `‚Ä¢ ${quantidade}x ${nomeSelecionado}${precoSelecionado ? ` (${precoSelecionado})` : ""}`;
            pedidos[nomeSelecionado] = { texto: pedidoTexto };

            //marca o item como selecionado
            itemSelecionado.classList.add("selecionado");
            if (!itemSelecionado.querySelector('.badge')) {
                const badgeSpan = document.createElement('span');
                badgeSpan.className = 'badge bg-success';
                badgeSpan.textContent = '‚úîÔ∏è';
                itemSelecionado.appendChild(badgeSpan);
            }

            //muda o campo de mensagem
            atualizarMensagem();
            atualizarWhatsAppLink();
            modal.hide();
        } else {
            alert("Quantidade inv√°lida.");
        }
    });

    function atualizarMensagem() {
        const texto = Object.values(pedidos).map(p => p.texto).join("\n");
        campoMensagem.value = texto;
    }
    //link do whatssap com o texto do campo
    function atualizarWhatsAppLink() {
        const numero = "554498819798";
        const texto = encodeURIComponent(campoMensagem.value.trim());
        whatsappLink.href = `https://wa.me/${numero}?text=${texto}`;
    }

    //botao de copiar
    btnCopiar.addEventListener("click", () => {
        if (!campoMensagem.value.trim()) {
            alert("O pedido est√° vazio, nada para copiar.");
            return;
        }
        campoMensagem.select();
        campoMensagem.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(campoMensagem.value)
            .then(() => alert("Mensagem copiada para a √°rea de transfer√™ncia!"))
            .catch(() => alert("Falha ao copiar a mensagem."));
    });
});
</script>
